{"ast":null,"code":"var _jsxFileName = \"/Users/ananya/Documents/Learnings/Coding/Eko_Delivery/my-app/src/components/PossibleRoutes/PossibleRoutes.js\";\nimport React, { Component } from 'react';\nimport { Container, Form, ButtonToolbar, Button, Row, Col, FormLabel } from 'react-bootstrap';\nimport { parsedInput } from '../../util/directedGraph';\nimport getPossiblePaths from '../../util/possiblePath';\n\nclass PossibleRoutes extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      routes: '',\n      onlyPossibleRoutesArr: [],\n      routesArr: '',\n      cheapestRoute: '',\n      showCheapestRoutes: false\n    };\n    this.srcInput = React.createRef();\n    this.destInput = React.createRef();\n    this.getPossibleNodes = this.getPossibleNodes.bind(this);\n    this.getRoutes = this.getRoutes.bind(this);\n    this.getCheapestRoute = this.getCheapestRoute.bind(this);\n    this.showCheapestRoutes = this.showCheapestRoutes.bind(this);\n  }\n\n  getPossibleNodes(maxStops) {\n    console.log(maxStops);\n    var routes = getPossiblePaths(this.srcInput.value, this.destInput.value, parsedInput);\n    const routesArr = routes.split(';');\n    const onlyPossibleRoutesArr = [];\n    const onlyRoutesWithMaxFourST = [];\n    this.setState({\n      routesArr: routes\n    });\n    console.log(\"ROUTES\", routes);\n    routesArr.map((route, i) => {\n      const routePerNode = route.split('=');\n      console.log(maxStops === 4);\n\n      if (maxStops === 4 && routePerNode[0].length <= 5) {\n        const routeWithFourStops = this.getRoutes(routePerNode[0]);\n        onlyRoutesWithMaxFourST.push(routeWithFourStops);\n        this.setState({\n          onlyPossibleRoutesArr: onlyRoutesWithMaxFourST\n        });\n      } else {\n        const formedRoute = this.getRoutes(routePerNode[0]);\n        onlyPossibleRoutesArr.push(formedRoute);\n        this.setState({\n          onlyPossibleRoutesArr: onlyPossibleRoutesArr\n        });\n      }\n\n      return routePerNode;\n    });\n    this.getCheapestRoute(routesArr);\n    console.log('only 4 stops', onlyRoutesWithMaxFourST);\n  }\n\n  getCheapestRoute(routes) {\n    var routeCostArr = [];\n    routes.map(item => {\n      item = item.split('=');\n      var route = item[0];\n      var costs = item[1];\n      var totalCost = 0;\n      costs = costs.split(':');\n\n      for (var i = 0; i < costs.length; i++) {\n        totalCost += Number(costs[i]);\n      }\n\n      var routeCostObj = {\n        'path': route,\n        'cost': totalCost\n      };\n      routeCostArr.push(routeCostObj); // sort by value\n\n      routeCostArr.sort(function (a, b) {\n        return a.cost - b.cost;\n      });\n      console.log(routeCostArr);\n      this.setState({\n        cheapestRoute: routeCostArr[0]\n      });\n      return routeCostArr;\n    });\n  }\n\n  showCheapestRoutes() {\n    this.setState({\n      showCheapestRoutes: true\n    });\n  }\n\n  getRoutes(str) {\n    var newStr = '';\n\n    for (var i = 0; i <= str.length - 1; i++) {\n      let sym = '';\n\n      if (i !== str.length - 1) {\n        sym = \"-\";\n      }\n\n      var append = str[i] + sym;\n      newStr = newStr + append;\n    }\n\n    return newStr;\n  }\n\n  render() {\n    let routesFormed = '';\n\n    if (this.state.onlyPossibleRoutesArr.length > 0) {\n      routesFormed = this.state.onlyPossibleRoutesArr.map((route, index) => {\n        return React.createElement(\"li\", {\n          key: route.toString(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, \"Route No \", index + 1, \" : \", route);\n      });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(FormLabel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \" Calculate\\u200B \\u200Bthe\\u200B \\u200Bnumber\\u200B \\u200Bof\\u200B \\u200Bpossible\\u200B \\u200Bdelivery\\u200B \\u200Broute\\u200B\"), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(FormLabel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Route : \")), React.createElement(Col, {\n      xs: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      size: \"md\",\n      type: \"text\",\n      placeholder: \"Source\",\n      ref: srcInput => this.srcInput = srcInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    })), React.createElement(Col, {\n      xs: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(FormLabel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Route : \")), React.createElement(Col, {\n      xs: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(Form.Control, {\n      size: \"md\",\n      type: \"text\",\n      placeholder: \"Destination\",\n      type: \"text\",\n      ref: destInput => this.destInput = destInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    })), React.createElement(Col, {\n      xs: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    })), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }), React.createElement(Col, {\n      xs: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(ButtonToolbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"primary\",\n      size: \"md\",\n      active: true,\n      onClick: this.calcCost.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"Find All Possible Routes\"))), React.createElement(Col, {\n      xs: 9,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    })), this.state.showCheapestRoutes && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"We found the cheapest route for you.\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"Take \", this.state.cheapestRoute.path, \" which will cost you \", this.state.cheapestRoute.cost)), this.state.routeCost !== 0 && React.createElement(FormLabel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"Route  Cost: \", this.state.routeCost)));\n  }\n\n}\n\nexport default PossibleRoutes; //   <h3> Calculate​ ​the​ ​number​ ​of​ ​possible​ ​delivery​ ​route​</h3>\n//                 <div>\n//                     <label>Source : </label>\n//                     <input type=\"text\" ref={(srcInput) => this.srcInput = srcInput} />\n//                 </div>\n//                 <div>\n//                     <label> Destination: </label>\n//                     <input type=\"text\" ref={(destInput) => this.destInput = destInput} />\n//                 </div>\n//                 <div>\n//                     <button type=\"button\" onClick={this.getPossibleNodes.bind(this, 'no')} >\n//                         Find All PossibleRoutes\n//                     </button>\n//                     <button type=\"button\" onClick={this.getPossibleNodes.bind(this, 4)}>\n//                         Find All PossibleRoutes with 4 max stops\n//                     </button>\n//                 </div>\n//                 <div>\n//                     <button type=\"button\" onClick={this.showCheapestRoutes} >\n//                         Find the Cheapest Route\n//                 </button>\n//                 </div>\n//                 {this.state.onlyPossibleRoutesArr.length > 0 && <div>\n//                     <div>We found {this.state.onlyPossibleRoutesArr.length} Routes for you.</div>\n//                     <div>The number of PossibleRoutes are : {routesFormed}</div>\n//                 </div>}\n//                 {this.state.showCheapestRoutes && <div>\n//                     <div>We found the cheapest route for you.</div>\n//                     <div>Take {this.state.cheapestRoute.path} which will cost you {this.state.cheapestRoute.cost}</div>\n//                 </div>}\n//             </div>","map":{"version":3,"sources":["/Users/ananya/Documents/Learnings/Coding/Eko_Delivery/my-app/src/components/PossibleRoutes/PossibleRoutes.js"],"names":["React","Component","Container","Form","ButtonToolbar","Button","Row","Col","FormLabel","parsedInput","getPossiblePaths","PossibleRoutes","constructor","props","state","routes","onlyPossibleRoutesArr","routesArr","cheapestRoute","showCheapestRoutes","srcInput","createRef","destInput","getPossibleNodes","bind","getRoutes","getCheapestRoute","maxStops","console","log","value","split","onlyRoutesWithMaxFourST","setState","map","route","i","routePerNode","length","routeWithFourStops","push","formedRoute","routeCostArr","item","costs","totalCost","Number","routeCostObj","sort","a","b","cost","str","newStr","sym","append","render","routesFormed","index","toString","calcCost","path","routeCost"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Container, Form, ButtonToolbar, Button, Row, Col, FormLabel } from 'react-bootstrap';\n\nimport {\n    parsedInput\n} from '../../util/directedGraph';\nimport\ngetPossiblePaths\n    from '../../util/possiblePath';\nclass PossibleRoutes extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            routes: '',\n            onlyPossibleRoutesArr: [],\n            routesArr: '',\n            cheapestRoute: '',\n            showCheapestRoutes: false,\n        }\n        this.srcInput = React.createRef();\n        this.destInput = React.createRef();\n        this.getPossibleNodes = this.getPossibleNodes.bind(this);\n        this.getRoutes = this.getRoutes.bind(this);\n        this.getCheapestRoute = this.getCheapestRoute.bind(this);\n        this.showCheapestRoutes = this.showCheapestRoutes.bind(this);\n    }\n\n\n    getPossibleNodes(maxStops) {\n        console.log(maxStops)\n        var routes = getPossiblePaths(this.srcInput.value, this.destInput.value, parsedInput);\n        const routesArr = routes.split(';');\n        const onlyPossibleRoutesArr = [];\n        const onlyRoutesWithMaxFourST = [];\n        this.setState({ routesArr: routes });\n        console.log(\"ROUTES\", routes)\n\n        routesArr.map((route, i) => {\n            const routePerNode = route.split('=');\n            console.log(maxStops === 4);\n            if (maxStops === 4 && routePerNode[0].length <= 5) {\n                const routeWithFourStops = this.getRoutes(routePerNode[0]);\n                onlyRoutesWithMaxFourST.push(routeWithFourStops);\n                this.setState({ onlyPossibleRoutesArr: onlyRoutesWithMaxFourST })\n            } else {\n                const formedRoute = this.getRoutes(routePerNode[0]);\n                onlyPossibleRoutesArr.push(formedRoute);\n                this.setState({ onlyPossibleRoutesArr: onlyPossibleRoutesArr })\n            }\n            return routePerNode;\n        });\n        this.getCheapestRoute(routesArr);\n        console.log('only 4 stops', onlyRoutesWithMaxFourST)\n    }\n\n\n    getCheapestRoute(routes) {\n        var routeCostArr = [];\n        routes.map((item) => {\n\n            item = item.split('=');\n            var route = item[0];\n            var costs = item[1];\n            var totalCost = 0;\n\n            costs = costs.split(':');\n            for (var i = 0; i < costs.length; i++) {\n                totalCost += Number(costs[i]);\n            }\n\n            var routeCostObj = { 'path': route, 'cost': totalCost };\n            routeCostArr.push(routeCostObj);\n\n            // sort by value\n            routeCostArr.sort(function (a, b) {\n                return a.cost - b.cost;\n            });\n\n            console.log(routeCostArr);\n            this.setState({ cheapestRoute: routeCostArr[0] })\n            return routeCostArr;\n\n        })\n\n    }\n\n    showCheapestRoutes() {\n        this.setState({ showCheapestRoutes: true })\n    }\n\n\n    getRoutes(str) {\n        var newStr = '';\n        for (var i = 0; i <= str.length - 1; i++) {\n            let sym = '';\n            if (i !== str.length - 1) {\n                sym = \"-\"\n            }\n\n            var append = str[i] + sym;\n            newStr = newStr + append;\n        }\n        return newStr;\n    }\n\n    render() {\n        let routesFormed = '';\n        if (this.state.onlyPossibleRoutesArr.length > 0) {\n            routesFormed = this.state.onlyPossibleRoutesArr.map((route, index) => {\n                return <li key={route.toString()} >Route No {index + 1} : {route}</li>;\n            })\n        }\n\n\n        return (\n            <div>\n                <Container>\n\n                    <FormLabel> Calculate​ ​the​ ​number​ ​of​ ​possible​ ​delivery​ ​route​</FormLabel>\n                    <Row>\n\n                        <Col xs={1}><FormLabel>Route : </FormLabel></Col>\n                        <Col xs={3}><Form.Control size=\"md\" type=\"text\" placeholder=\"Source\" ref={(srcInput) => this.srcInput = srcInput}  ></Form.Control>\n                        </Col>\n                        <Col xs={8}></Col>\n                    </Row>\n                    <br />\n                    <Row>\n\n                        <Col xs={1}><FormLabel>Route : </FormLabel></Col>\n                        <Col xs={3}><Form.Control size=\"md\" type=\"text\" placeholder=\"Destination\" type=\"text\" ref={(destInput) => this.destInput = destInput}  ></Form.Control>\n                        </Col>\n                        <Col xs={8}></Col>\n                    </Row>\n                    <Row>\n                        <Col xs={1}></Col>\n                        <Col xs={2}>\n                            <ButtonToolbar>\n                                <Button variant=\"primary\" size=\"md\" active onClick={this.calcCost.bind(this)}>\n                                    Find All Possible Routes\n                                </Button>   \n                            </ButtonToolbar>\n                        </Col>\n                        <Col xs={9}></Col>\n\n                    </Row>\n\n                    {this.state.showCheapestRoutes && <div>\n                    <div>We found the cheapest route for you.</div>\n                    <div>Take {this.state.cheapestRoute.path} which will cost you {this.state.cheapestRoute.cost}</div>\n                </div>}\n\n                    {this.state.routeCost !== 0 && <FormLabel>Route  Cost: {this.state.routeCost}</FormLabel>}\n                </Container>\n\n            </div>\n\n        )\n    }\n}\n\nexport default PossibleRoutes;\n\n\n//   <h3> Calculate​ ​the​ ​number​ ​of​ ​possible​ ​delivery​ ​route​</h3>\n//                 <div>\n//                     <label>Source : </label>\n//                     <input type=\"text\" ref={(srcInput) => this.srcInput = srcInput} />\n//                 </div>\n//                 <div>\n//                     <label> Destination: </label>\n//                     <input type=\"text\" ref={(destInput) => this.destInput = destInput} />\n//                 </div>\n//                 <div>\n//                     <button type=\"button\" onClick={this.getPossibleNodes.bind(this, 'no')} >\n//                         Find All PossibleRoutes\n//                     </button>\n//                     <button type=\"button\" onClick={this.getPossibleNodes.bind(this, 4)}>\n//                         Find All PossibleRoutes with 4 max stops\n//                     </button>\n//                 </div>\n//                 <div>\n//                     <button type=\"button\" onClick={this.showCheapestRoutes} >\n//                         Find the Cheapest Route\n//                 </button>\n//                 </div>\n\n//                 {this.state.onlyPossibleRoutesArr.length > 0 && <div>\n//                     <div>We found {this.state.onlyPossibleRoutesArr.length} Routes for you.</div>\n//                     <div>The number of PossibleRoutes are : {routesFormed}</div>\n//                 </div>}\n\n//                 {this.state.showCheapestRoutes && <div>\n//                     <div>We found the cheapest route for you.</div>\n//                     <div>Take {this.state.cheapestRoute.path} which will cost you {this.state.cheapestRoute.cost}</div>\n//                 </div>}\n\n//             </div>"]},"metadata":{},"sourceType":"module"}